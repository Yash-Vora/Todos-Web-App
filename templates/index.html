<!doctype html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Font CDN -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;1,600&display=swap" rel="stylesheet">

    <!--CDN LINK OF JQUERY PARENT PLUG IN - COMPULSORY TO BE HERE. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

    <!-- CDN Link for Bootstrap Javascript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../static/css/bootstrap.css">

    <!-- CSS -->
    <link rel="stylesheet" href="../static/css/style.css">

    <!-- Javascript -->
    <script src="../static/js/todos.js"></script>

    <title>Todos App</title>
  </head>

  <body>
    <!-- Todos Form -->
    <div class="container-fluid" id="todos">
      <div class="todos-row">
        <div class="col-lg-offset-2 col-lg-8 col-md-offset-2 col-md-8 col-sm-offset-2 col-sm-8">
          <div class="todos-row-r1">
            <h3><i class="fa fa-edit"></i> Add Todos <i class="fa fa-edit"></i></h3>
          </div>
          <div class="todos-row-r2">
            <form action="/", method="POST">
              <!-- Title -->
              <div class="form-group">
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-edit"></i></span>
                  <input id="Title" name="title" type="text" placeholder="Enter Your Title..." maxlength="20" class="form-control">
                </div>
                <small id="TitleValidation" class="text-danger"></small>
              </div>

              <!-- Description -->
              <div class="form-group">
                <textarea id="Description" name="description" cols="100" rows="5" placeholder="Enter Your Description..." maxlength="250" class="form-control" style="border-radius: 10px;"></textarea>
                <small id="DescriptionValidation" class="text-danger"></small>
              </div>

              <div class="form-group">
                <center>
                  <input id="submit" type="submit" value="Add Todos" class="btn-custom btn-custom-primary">
                </center>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Show data in table -->
    <div class="container">
      <h3 class="my-4"><i class="fa fa-edit"></i> Your Todos List <i class="fa fa-edit"></i></h3>
      {% if all_todo|length == 0 %}
        <div class="alert alert-dark">
          No Todos found. Add your first todo now!
        </div>
      {% else %}
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Sr No</th>
              <th scope="col">Title</th>
              <th scope="col">Description</th>
              <th scope="col">Created At</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for todo in all_todo %}
              <tr>
                <td scope="row">{{loop.index}}</td>
                <td>{{todo.title}}</td>
                <td>{{todo.description}}</td>
                <td>{{todo.created_at}}</td>
                <td>
                  <a href="/update/{{todo.sno}}" class="btn btn-success btn-sm">Update</a>&nbsp;&nbsp;
                  <a href="/delete/{{todo.sno}}" class="btn btn-danger btn-sm">Delete</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% endif %}
    </div>
  </body>
</html>